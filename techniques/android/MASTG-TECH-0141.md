---
title: マージされた AndroidManifest の検査 (Inspecting the Merged AndroidManifest)
platform: android
---

ビルドプロセス時に、Android ビルドツールはさまざまなソース (メインアプリ、フレーバー、ライブラリ) からの複数のマニフェストファイルを単一のマージされたマニフェストファイルにマージします。このマージされたマニフェストファイルが最終的な APK または AAB にパッケージ化されます。

マージされたマニフェストファイルを検査することで、パーミッション、コンポーネント (アクティビティ、サービス、プロバイダなど)、その他の設定を含むアプリの最終的な構成を理解するのに役立ちます。また、サードパーティライブラリから継承されたパーミッションとコンポーネントを識別するのにも役立ちます。

## [Android Studio](../../tools/android/MASTG-TOOL-0007.md) を使用する

1. Android Studio でプロジェクトを開きます。
2. Project ビューで `app/src/main/AndroidManifest.xml` に移動します。
3. エディタウィンドウの下部にある "Merged Manifest" タブをクリックします。これはマージされたマニフェストファイルと、各要素に寄与したソースのツリービューを表示します。
4. マージされたマニフェストの、パーミッションやアクティビティなどの任意の要素をクリックして、ツリービューでそのソースを参照できます。

## コマンドラインツールを使用する

> [!WARNING]
> 制限事項  
> この方法では、マージされたマニフェストファイルの各要素のソースを追跡できません。そのためには、[上記](#using-mastg-tool-0007) の説明に従い、Android Studio を使用する必要があります。

1. `./gradlew app:processDebugManifest` などのコマンドを使用して、所望のビルドバリアントのマージされたマニフェストファイルを手動で生成できます。必要に応じて `Debug` を所望のビルドバリアントに置き換えます。
2. コマンドを実行すると、`app/build/intermediates/merged_manifests/debug/AndroidManifest.xml` ディレクトリにマージされたマニフェストファイルが見つかります。必要に応じて `debug` を適切なビルドバリアントに置き換えます。
3. テキストエディタで `AndroidManifest.xml` ファイルを開き、その内容を検査します。
