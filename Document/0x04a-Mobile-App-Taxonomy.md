# モバイルアプリの分類

用語「モバイルアプリ」はモバイルデバイス上で動作するように設計された自己完結型コンピュータプログラムを指します。今日、Android および iOS オペレーティングシステムは累積的に [モバイル OS 市場シェアの99%以上](https://www.idc.com/promo/smartphone-market-share/os) を占めています。さらに、モバイルインターネットの使用率は歴史上初めてデスクトップ使用率を上回り、モバイルブラウジングとアプリは [最も広く普及しているインターネット対応アプリケーション](https://www.idc.com/promo/smartphone-market-share/os) となっています。

> このガイドでは、一般的なモバイル OS 上で動作するあらゆる種類のアプリケーションを指す一般用語として用語「アプリ」を使用しています。

基本的な意味では、アプリはそれらが設計されたプラットフォーム上で直接か、スマートデバイスのモバイルブラウザ上でか、二つを組み合わせて使用するかのいずれかで実行するよう設計されています。以下の章では、モバイルアプリの分類のそれぞれに位置するアプリに適した特徴を定義し、各バリエーションの違いについて説明します。

## ネイティブアプリ

Android や iOS などのモバイルオペレーシングシステムには OS 固有のアプリケーションを開発するためにソフトウェア開発キット (SDK) が用意されています。そのようなアプリケーションは開発対象のシステムに対して *ネイティブ* と呼ばれます。アプリを議論するとき、一般的な前提はそれぞれのオペレーティングシステム向けの標準プログラミング言語、iOS には Objective-C や Swift、Android には Java や Kotlin、で実装されたネイティブアプリであるということです。

ネイティブアプリは最高の信頼性で最速の性能を提供する能力を本質的に持っています。それらは通常、プラットフォーム固有の設計原則 ([Android デザインの原則](https://developer.android.com/design "Android Design Principles") など) を遵守し、*ハイブリッド* や *ウェブ* アプリと比べてより一貫性のあるユーザーインタフェース (UI) を提供する傾向にあります。オペレーティングシステムとの密接な統合により、ネイティブアプリはデバイスのほとんどすべてのコンポーネント (カメラ、センサー、ハードウェア支援のキーストアなど) に直接アクセスできます。

Android の *ネイティブアプリ* について議論する際にはいくらかあいまいさがあります。このプラットフォームは二つの開発キット Android SDK と Android NDK を提供しています。SDK は Java および Kotlin プログラミング言語をベースとしており、アプリ開発のデフォルトです。NDK (またはネイティブ開発キット) は C/C++ 開発キットで、低レベル API (OpenGL など) に直接アクセスできるバイナリライブラリを開発するために使用されます。これらのライブラリは SDK で構築された通常のアプリに含めることができます。したがって私たちは、Android *ネイティブアプリ* (つまり、SDK を使用して構築されている) は NDK を使用して構築された *ネイティブ* コードを持つ可能性がある、と表現します。

*ネイティブアプリ* の最も明白な欠点はひとつの特定のプラットフォームのみをターゲットとしていることです。Android と iOS の両方に対して同じアプリをビルドするには、二つの独立したコードベースを維持するか、二つのプラットフォームを一つのコードベースに移植するために複合開発ツールを導入します。以下のフレームワークは後者の例であり、Android と iOS の両方で単一のコードベースをコンパイルできます。

- [Xamarin](https://dotnet.microsoft.com/apps/xamarin "Xamarin")
- [Google Flutter](https://flutter.dev/ "Google Flutter")
- [React Native](https://reactnative.dev/ "React Native")

これらのフレームワークを使用して開発されたアプリケーションは、システムにネイティブな API を内部的に使用し、ネイティブアプリケーションと同等のパフォーマンスを提供します。また、これらのアプリは GPS、加速度計、カメラ、通知システムなど、すべてのデバイス機能を利用できます。最終的な出力は前述の *ネイティブアプリ* と非常に似ているため、これらのフレームワークを使用して開発されたアプリも *ネイティブアプリ* とみなすことができます。

## ウェブアプリ

モバイルウェブアプリ (または単に *ウェブアプリ*) は *ネイティブアプリ* のようなルックアンドフィールで設計されたウェブサイトです。これらのアプリはデバイスのブラウザ上で動作し、通常はモダンなウェブページと同様に HTML5 で開発されています。ランチャーアイコンは *ネイティブアプリ* にアクセスするのと同じような感覚となるように作成することができます。但し、これらのアイコンは基本的にブラウザのブックマークと同じで、単にデフォルトのウェブブラウザを開いて参照先のウェブページを読み込むだけです。

ウェブアプリはブラウザの制限内で実行される (すなわち「サンドボックス化」されている) ため、デバイスの一般的なコンポーネントとの統合に制限されており、一般にネイティブアプリと比較して性能が低くなります。ウェブアプリは一般的に複数のプラットフォームを対象としているため、UI は特定のプラットフォームの設計原則のいくつかに従いません。最大の利点は単一のコードベースに関連する開発および保守コストの削減だけでなく、開発者がプラットフォーム固有のアプリストアを利用せずにアップデートを配信できることです。例えば、ウェブアプリ用の HTML への変更は実行可能なクロスプラットフォームのアップデートとして機能することができますが、ストアベースのアプリへの更新はかなりの労力を必要とします。

## ハイブリッドアプリ

ハイブリッドアプリは *ネイティブアプリ* と *ウェブアプリ* の間のギャップを埋めるものです。*ハイブリッドアプリ* は *ネイティブアプリ* のように動作しますが、プロセスの大部分はウェブテクノロジーに依存しています。つまり、アプリの一部が埋め込み型ウェブブラウザ (通常は "WebView" と呼ばれる) 内で動作します。そのため、ハイブリッドアプリは *ネイティブアプリ* と *ウェブアプリ* の長所と短所を継承します。

ウェブからネイティブへの抽象レイヤーは純粋な *ウェブアプリ* にはアクセスできないデバイス機能に *ハイブリッドアプリ* がアクセスできるようにします。開発に使用されるフレームワークによっては、一つのコードベースで異なるプラットフォームを対象とする複数のプラットフォームを作成できます。UI はアプリが開発されたオリジナルのプラットフォームのものに酷似します。

以下は *ハイブリッドアプリ* を開発するためのより一般的なフレームワークの非網羅的なリストです。

- [Apache Cordova](https://cordova.apache.org/ "Apache Cordova")
- [Framework 7](https://framework7.io/ "Framework 7")
- [Ionic](https://ionicframework.com/ "Ionic")
- [jQuery Mobile](https://jquerymobile.com/ "jQuery Mobile")
- [Native Script](https://www.nativescript.org/ "Native Script")
- [Onsen UI](https://onsen.io/ "Onsen UI")
- [Sencha Touch](https://www.sencha.com/products/touch/ "Sencha Touch")

## プログレッシブウェブアプリ

プログレッシブウェブアプリ (PWA) は通常のウェブページと同じようにロードしますが、いくつかの点で通常のウェブアプリとは異なります。たとえば、オフラインで作業することが可能で、従来はネイティブモバイルアプリでのみ利用可能なモバイルデバイスハードウェアへのアクセスも可能です。

PWA は最新のブラウザが提供するウェブのさまざまなオープンスタンダードを組み合わせて、リッチなモバイルエクスペリエンスの利点を提供します。シンプルな JSON ファイルである Web App Manifest を使用して、「インストール」後にアプリの動作を設定できます。

PWA は Android および iOS でサポートされていますが、まだすべてのハードウェア機能が利用可能ではありません。たとえば、プッシュ通知、iPhone X の Face ID、拡張現実のための ARKit はまだ iOS では利用できません。PWA の概要およびそれぞれのプラットフォームでサポートされている機能は [Maximiliano Firtman 内の記事](https://medium.com/@firt/progressive-web-apps-on-ios-are-here-d00430dee3a7 "Progressive Web Apps on iOS are here") にあります。

## モバイルテストガイドでカバーするもの

このガイドではスマートフォン上で動作する Android および iOS 向けのアプリにフォーカスします。これらのプラットフォームは現在市場を支配しており、タブレット、スマートウォッチ、スマートテレビ、車載インフォテインメントユニット、その他の組み込みシステムなど、他のデバイスでも動作します。これらの追加のデバイスクラスがスコープ外であっても、ターゲットデバイスに応じて多少の逸脱はありますが、このガイドで説明されているほとんどの知識とテスト技法を適用できます。

膨大な量のモバイルアプリフレームワークが利用可能であるとすれば、それらすべてを余すところなくカバーすることは不可能です。したがって、各オペレーティングシステムの *ネイティブ* アプリにフォーカスします。しかし、同じテクニックはウェブアプリやハイブリッドアプリを扱うときにも役に立ちます (最終的には、フレームワークに関係なく、すべてのアプリはネイティブコンポーネントに基づいています) 。
